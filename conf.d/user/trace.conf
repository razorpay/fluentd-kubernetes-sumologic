<source>
  @type tail
  format json
  time_key "#{ENV['TIME_KEY']}"
  path "/var/log/fluentd/**/trace/*.log"
  pos_file /mnt/pos/trace.pos.log
  tag trace.*
  path_key tailed_path
  read_from_head "#{ENV['READ_FROM_HEAD']}"
  refresh_interval "#{ENV['REFRESH_INTERVAL']}"
</source>

<filter trace.**>
  @type kubernetes_sumologic
  source_category "${tag_parts[4]}/${tag_parts[5]}/trace"
  source_name "trace"
  source_category_prefix "#{ENV['SOURCE_CATEGORY_PREFIX']}"
</filter>