<source>
  @type tail
  format apache_error
  path /var/log/apache2/*.error.log
  pos_file /var/log/td-agent/apache2.error_log.pos
  path_key tailed_path
  time_format %Y-%m-%dT%H:%M:%S.%NZ
  tag apache.error
</source>
<source>
  @type tail
  time_format %Y-%m-%dT%H:%M:%S.%NZ
  format apache2
  path ["/var/log/apache2/*.access.log", "/var/log/apache2/access.log"]
  pos_file /var/log/td-agent/apache2.access_log.pos
  path_key tailed_path
  tag apache.access
</source>

<match apache.*>
  @type sumologic
  endpoint "#{ENV['COLLECTOR_URL']}"
  log_format json
  source_category kubernetes/kluster-api
  source_name apache
</match>
